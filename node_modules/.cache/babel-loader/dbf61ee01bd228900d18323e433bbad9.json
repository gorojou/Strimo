{"ast":null,"code":"var _jsxFileName = \"/home/usuario/Documentos/GitHub/Strimo/src/content/link/link.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"../../utils/firebase.js\";\nimport { useParams } from \"react-router-dom\";\nimport \"./link.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Link() {\n  _s();\n\n  const [link, setLink] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  const comprobante = parseInt(id);\n\n  const createLink = async () => {\n    const invitacionDoc = firebase.firestore().collection(\"Invitacion\");\n    const unsubscriber = await invitacionDoc.where(\"comprobante\", \"==\", comprobante.toString()).get().then(snapshot => {\n      let match = \"\";\n      snapshot.forEach(doc => {\n        match = doc.data();\n      });\n      console.log(comprobante.toString(), match, \"xd\");\n\n      if (match) {\n        setLink(`http://localhost:3000/confirmar/${match.tiempo}`);\n      } else {\n        setLink(\"Lo sentimos Link equivocado\");\n      }\n    });\n    return () => unsubscriber();\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      createLink();\n    }, 3000);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: link,\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Link, \"Dar0O0MKWvDDyJujRrFAFfSIqj4=\", false, function () {\n  return [useParams];\n});\n\n_c = Link;\nexport default Link;\n\nvar _c;\n\n$RefreshReg$(_c, \"Link\");","map":{"version":3,"sources":["/home/usuario/Documentos/GitHub/Strimo/src/content/link/link.jsx"],"names":["React","useState","useEffect","firebase","useParams","Link","link","setLink","id","comprobante","parseInt","createLink","invitacionDoc","firestore","collection","unsubscriber","where","toString","get","then","snapshot","match","forEach","doc","data","console","log","tiempo","setTimeout"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAO,YAAP;;;;AACA,SAASC,IAAT,GAAgB;AAAA;;AACd,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAEO,IAAAA;AAAF,MAASJ,SAAS,EAAxB;AACA,QAAMK,WAAW,GAAGC,QAAQ,CAACF,EAAD,CAA5B;;AACA,QAAMG,UAAU,GAAG,YAAY;AAC7B,UAAMC,aAAa,GAAGT,QAAQ,CAACU,SAAT,GAAqBC,UAArB,CAAgC,YAAhC,CAAtB;AACA,UAAMC,YAAY,GAAG,MAAMH,aAAa,CACrCI,KADwB,CAClB,aADkB,EACH,IADG,EACGP,WAAW,CAACQ,QAAZ,EADH,EAExBC,GAFwB,GAGxBC,IAHwB,CAGlBC,QAAD,IAAc;AAClB,UAAIC,KAAK,GAAG,EAAZ;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAkBC,GAAD,IAAS;AACxBF,QAAAA,KAAK,GAAGE,GAAG,CAACC,IAAJ,EAAR;AACD,OAFD;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYjB,WAAW,CAACQ,QAAZ,EAAZ,EAAoCI,KAApC,EAA2C,IAA3C;;AACA,UAAIA,KAAJ,EAAW;AACTd,QAAAA,OAAO,CAAE,mCAAkCc,KAAK,CAACM,MAAO,EAAjD,CAAP;AACD,OAFD,MAEO;AACLpB,QAAAA,OAAO,CAAC,6BAAD,CAAP;AACD;AACF,KAdwB,CAA3B;AAeA,WAAO,MAAMQ,YAAY,EAAzB;AACD,GAlBD;;AAmBAb,EAAAA,SAAS,CAAC,MAAM;AACd0B,IAAAA,UAAU,CAAC,MAAM;AACfjB,MAAAA,UAAU;AACX,KAFS,EAEP,IAFO,CAAV;AAGD,GAJQ,EAIN,EAJM,CAAT;AAKA,sBACE;AAAA,2BACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAEL,IAA1B;AAAgC,MAAA,QAAQ,EAAE;AAA1C;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAKD;;GAjCQD,I;UAEQD,S;;;KAFRC,I;AAmCT,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"../../utils/firebase.js\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./link.css\";\r\nfunction Link() {\r\n  const [link, setLink] = useState(\"\");\r\n  const { id } = useParams();\r\n  const comprobante = parseInt(id);\r\n  const createLink = async () => {\r\n    const invitacionDoc = firebase.firestore().collection(\"Invitacion\");\r\n    const unsubscriber = await invitacionDoc\r\n      .where(\"comprobante\", \"==\", comprobante.toString())\r\n      .get()\r\n      .then((snapshot) => {\r\n        let match = \"\";\r\n        snapshot.forEach((doc) => {\r\n          match = doc.data();\r\n        });\r\n        console.log(comprobante.toString(), match, \"xd\");\r\n        if (match) {\r\n          setLink(`http://localhost:3000/confirmar/${match.tiempo}`);\r\n        } else {\r\n          setLink(\"Lo sentimos Link equivocado\");\r\n        }\r\n      });\r\n    return () => unsubscriber();\r\n  };\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      createLink();\r\n    }, 3000);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <input type=\"text\" value={link} readOnly={true} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Link;\r\n"]},"metadata":{},"sourceType":"module"}